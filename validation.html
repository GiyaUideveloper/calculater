<!doctype html>
<html>
	<head>
		<title>Login page</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="css/validation.css">
		<link rel="stylesheet" type="text/css" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">
	</head>
	<body>
		<div class="container">
			<div class="header">
				<h2>Create Account</h2>
			</div>
			<form class="form" id="form">
				<div class="form-control">
					<label>Username</label>
					<input type="text" placeholder="username" id="username">
					<i class="fas fa-check-circle"></i>
					<i class="fas fa-exclamation-circle"></i>
					<small>error mesage</small>
				</div>
				<div class="form-control">
					<label>Email</label>
					<input type="email" placeholder="email" id="email">
					<i class="fas fa-check-circle"></i>
					<i class="fas fa-exclamation-circle"></i>
					<small>error mesage</small>
				</div>
				<div class="form-control">
					<label>Password</label>
					<input type="password" placeholder="password" id="password">
					<i class="fas fa-check-circle"></i>
					<i class="fas fa-exclamation-circle"></i>
					<small>error mesage</small>
				</div>
				<div class="form-control">
					<label>Confirm Password</label>
					<input type="password" placeholder="Confirm Password" id="password2">
					<i class="fas fa-check-circle"></i>
					<i class="fas fa-exclamation-circle"></i>
					<small>error mesage</small>
				</div>
				<button>submit</button>
			</form>
		</div>
		
		<script>
			const form = document.getElementById("form");
			const username = document.getElementById("username");
			const email = document.getElementById("email");
			const password = document.getElementById("password");
			const password2 = document.getElementById("password2");
			
			form.addEventListener('submit',e=> {
				e.preventDefault();
				checkInput();
			});
			
			function checkInput(){
				const usernameValue = username.value.trim();
				const emailValue = email.value.trim();
				const passwordValue = password.value.trim();
				const password2Value = password2.value.trim();
				
				if(usernameValue === ''){
					setError(username, 'Username Cannot Be Blank')
				}
				else{
					setSuccess(username)
				}
				if(emailValue ===''){
					setError(email,'email cannot be blink')
				}
				else if(!isEmail(emailValue)) {
					setError(email,'not a valid email')
				}
				else{
					setSuccess(email);
				}
				
				if(passwordValue === '')
				{
					setError(password, 'Username Cannot Be Blank')
				}
				else{
					setSuccess(password)
				}
				
				if(password2Value === '')
				{
					setError(password2, 'Username Cannot Be Blank')
				}
				else if(passwordValue !== password2Value){
					setError(password2, 'password DOES NOT match')
				}
				else {
					setSuccess(password2)
				}
			}
			
			
				
			function setError(input, message) {
				const formControl = input.parentElement;
				const small = formControl.querySelector('small');
				formControl.className = 'form-control error';
				small.innerText = message;
			}
			
			function setSuccess(input, message){
				const formControl = input.parentElement;
				formControl.className = 'form-control success';
			}
			
			function isEmail(email){
				return /^(([^<>()\[\]\\.,;:\@s"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
			}
		</script>
	</body>
</html>